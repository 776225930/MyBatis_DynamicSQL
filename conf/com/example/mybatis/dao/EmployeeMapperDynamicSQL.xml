<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.example.mybatis.dao.EmployeeMapperDynamicSQL">
     <!-- 
    if
 	choose (when, otherwise)
	trim (where, set)
	foreach
      -->
   <!-- public List<Employee> getEmpsByComditionIf(Employee employee); -->
    <select id="getEmpsByComditionIf" resultType="com.example.mybatis.bean.Employee">
         select * from tbl_employee  
         where 
         <!-- test:判断表达式(OGNL)  遇见特殊符号写转义字符 -->
         <if test="id!=null">
              id=#{id}
         </if>
         <if test="lastName!=null and lastName!=''">
          and last_name like #{lastName}
         </if>
          <if test="email!=null and email.trim()!=&quot;&quot;">
          and email=#{email}
          </if>
          <!-- OGNL会进行字符串与数字类型转换 -->
          <if test="gender==0 or gender==1">
          and gender=#{gender}
          </if>
          
    </select>
  </mapper>